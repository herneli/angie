{
  "template": "messages_*",
  "mappings": {
    "_default_": {
      "properties": {
        "source.channelId": {
          "type": "keyword",
          "index": true
        },
        "source.sourceMessage.messageId": {
          "type": "keyword",
          "index": true
        },
        "source.sourceMessage.sourceMessageType": {
          "type": "keyword",
          "index": true
        },
        "source.status": {
          "type": "keyword",
          "index": true
        },
        "destination.response.responseStatus": {
          "type": "keyword",
          "index": true
        }
      },
      "dynamic_templates": [
        {
          "string_fields": {
            "match": "*",
            "path_unmatch": "*MessageContent",
            "match_mapping_type": "string",
            "mapping": {
              "index": true,
              "omit_norms": true,
              "type": "text"
            }
          }
        },
        {
          "stringMessageContent": {
            "path_match": "*MessageContent",
            "mapping": {
              "type": "text",
              "index": false
            }
          }
        },
        {
          "b64pdf_copy": {
            "path_match": "source.*.OBX-5-5",
            "mapping": {
              "index": false,
              "type": "text"
            }
          }
        },
        {
          "numpet_copy": {
            "path_match": "source.*.ORC-3-1-1",
            "mapping": {
              "copy_to": "ms.order_num"
            }
          }
        },
        {
          "pid1_copy": {
            "path_match": "source.*.PID-3-1-1",
            "mapping": {
              "copy_to": "ms.pid1"
            }
          }
        },
        {
          "pid2_copy": {
            "path_match": "source.*.PID-3-1-2",
            "mapping": {
              "copy_to": "ms.pid2"
            }
          }
        },
        {
          "pid3_copy": {
            "path_match": "source.*.PID-3-1-3",
            "mapping": {
              "copy_to": "ms.pid3"
            }
          }
        },
        {
          "datereg_copy": {
            "path_match": "source.*.ORC-9-1-1",
            "mapping": {
              "copy_to": "ms.order_date"
            }
          }
        },
        {
          "msg_date_copy": {
            "path_match": "source.*.MSH-7-1",
            "mapping": {
              "copy_to": "ms.msg_date"
            }
          }
        }
      ]
    }
  }
}